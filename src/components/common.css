.card {
    background    : #fff;
    padding       : 20px;
    border-radius : 6px;
    box-shadow    : 0 2px 6px rgba(0, 0, 0, 0.1);
    width         : 300px;
    height        : 400px;
    display       : flex;
    flex-direction: column;
    overflow      : hidden;
}

.card h3 {
    margin    : 0 0 10px;
    text-align: center;
}

.card input,
.card select,
.card button {
    width        : 100%;
    padding      : 8px;
    margin-bottom: 10px;
}

.card input,
.card select {
    border       : 1px solid #ccc;
    border-radius: 4px;
}

.card button,
.rewrite-main button {
    background   : #007bff;
    color        : #fff;
    border       : none;
    border-radius: 4px;
    cursor       : pointer;
}

.card button:disabled,
.rewrite-main button:disabled {
    background: #aaa;
    cursor    : not-allowed;
}

.rewrite-main textarea {
    width        : 100%;
    height       : 100px;
    box-sizing   : border-box;
    padding      : 8px;
    border       : 1px solid #ccc;
    border-radius: 4px;
    overflow-y   : auto;
    overflow-x   : hidden;
    resize       : none;
    font-family  : inherit;
    font-size    : 14px;
    line-height  : 1.5;
}

.rewrite-btn {
    padding-top   : 10px;
    padding-bottom: 10px;
}

.chat-message {
    display  : flex;
}

.chat-message.user {
    justify-content: flex-end;
}

.chat-message.assistant {
    justify-content: flex-start;
}

.chat-bubble {
    padding      : 12px;
    margin       : 8px;
    border-radius: 12px;
    line-height  : 1.5;
    white-space  : pre-wrap;
}

.chat-message.user .chat-bubble {
    background-color          : #007bff;
    color                     : white;
    border-bottom-right-radius: 0;
}

.chat-message.assistant .chat-bubble {
    background-color         : #f1f1f1;
    color                    : #333;
    border-bottom-left-radius: 0;
}

.chat-wrapper {
    flex      : 1;
    overflow-y: auto;
}

.chat-footer {
    display    : flex;
    padding    : 12px 0;
    position   : sticky;
    bottom     : 0;
    align-items: stretch;
    gap        : 8px;
}

.chat-footer textarea {
    flex         : 1;
    padding      : 8px;
    border       : 1px solid #ccc;
    border-radius: 4px;
    resize       : none;
    line-height  : 1.5;
    height       : auto;
}

.chat-textarea {
    flex   : 1;
    display: flex;
}

.chat-footer textarea:focus {
    border-color: #007bff;
    outline     : none;
}

.chat-footer button {
    padding         : 0 16px;
    background-color: #007bff;
    color           : white;
    border          : none;
    border-radius   : 4px;
    cursor          : pointer;
    height          : 100%;
}

.chat-footer button:disabled {
    background: #aaa;
    cursor    : not-allowed;
}

.common-btn-loading {
    display       : inline-block;
    width         : 14px;
    height        : 14px;
    margin-right  : 6px;
    border        : 2px solid #fff;
    border-top    : 2px solid #007bff;
    border-radius : 50%;
    animation     : spin 0.6s linear infinite;
    vertical-align: middle;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

@media (prefers-color-scheme: dark) {
    body {
        background-color: #121212;
        color           : #e0e0e0;
    }

    .card {
        background: #1e1e1e;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.5);
    }

    .card h3 {
        color: #e0e0e0;
    }

    .card input,
    .card select,
    .rewrite-main textarea {
        background: #2c2c2c;
        color     : #e0e0e0;
        border    : 1px solid #555;
    }

    .card button,
    .rewrite-main button {
        background: #3391ff;
        color     : #fff;
    }

    .card button:disabled,
    .rewrite-main button:disabled {
        background: #555;
        color     : #aaa;
    }

    .rewrite-main textarea::-webkit-scrollbar {
        width: 8px;
    }

    .rewrite-main textarea::-webkit-scrollbar-thumb {
        background-color: #555;
        border-radius   : 4px;
    }

    .tab {
        background: #222;
        color     : #ddd;
    }

    .tab.active {
        background   : #1e1e1e;
        border-bottom: 2px solid #4a90e2;
    }
}